> 文献综述
> 
> 对于更加细分的领域（几何推理证明），这里选择的细分领域是自动几何问题求解

~~[A Comprehensive Survey on GNN](https://arxiv.org/pdf/1901.00596.pdf)~~

# 背景介绍

大家早上好，我是秦城，今天我给大家汇报的题目是自动几何问题求解的一个简要的综述。

首先，所谓自动几何问题求解，顾名思义，就是用计算机来自动地求解数学上的几何问题。这方面的研究，最早可以追溯到20世纪60年代，Gelernter等学者开创性地建立了自动几何问题求解体系，这个体系可以简称为几何定理求解器，它运用了后向搜索来解决预先形式化的问题。

随后，由我国的吴文俊院士提出的“吴法”，是一种在基本几何学领域运用机械化公理证明的基本原则，这种方法开创性地将几何问题转化为一个包含多项式和不等式的代数方程系统。目的就是为了将数学推理这个过程机械化，并且能够将几何求解的问题转化为代数问题，从而实现让计算机得以自动地求解数学问题。

关于这个问题，更广泛地说，在机器自动推理这个领域中，是一个存在已久的，有挑战性的问题，因为自动的几何推理证明，需要同时保证正确性和可解释性是一个非常大的挑战。

其次，计算机在这个领域中进行问题求解并不是简单地在题库中搜题，而是根据每一道题目给予的信息，包括文字描述、图形信息、数字字母内容等等，使用系统中自行定义的定理，以类似人类的求解方式来解题。最为重要的是，这个系统过程所产生的结果，是可读的、可回溯的、可验证的、以及可解释的。

# 方法分类及介绍

> 融合GeoDRL的内容

为了让计算机能够自动地求解几何问题，很多学者做出了很多很好的尝试。大致来说，学者们的尝试大致分为两种路径：符号学派和连接学派，这也是人工智能中不断竞争的两个发展方向。

## 连接主义

从连接主义学派，也可以说是从概率的方法来说，这类方法将几何问题求解，看作是多模态输入的文本生成问题的一个特例。这种数据驱动的方法从题目及其解答这些例子中，学习数学的语言以及求解策略，从而在没有先验的数学知识的情况下，生成人类可读的解答。

### GeoQA

[GeoQA (arXiv.pdf)](https://arxiv.org/pdf/2105.14517.pdf)，2021，ACL

Abstract：为了解决现有方法中，高度依赖于人工规则，而且仅仅在很小规模的数据集上评估性能的缺陷。作者就提出了GeoQA，全称为Geometric Question Answering数据集GeoQA。包含4998个带有相关标注图像的数学问题，这些都解释了一道题目的解题过程。相比另一个公开的数据集GeoS，GeoQA有该数据集的25倍大，其中，程序化的标注可以为未来，在显式且可解释的数值推理上的研究，提供一个实际的测试平台。

更进一步的，作者提出了神经几何求解器，通过综合地解析多模态信息，并且生成可解释的程序解答。作者更进一步地在NGS加入了多种自监督地辅助任务，为了加强交叉模型的语义表示。更多的在GeoQA上的实验验证了作者提出的NGS以及辅助任务的有效性，然而，结果仍然显著地低于人类的能力，这就给未来的研究留下了很大的空间。

[中山大学HCP Lab团队：AI解题新突破，神经网络推开数学推理大门](https://zhuanlan.zhihu.com/p/580829989)

> 为了推动几何题自动求解的研究，中山大学人机物智能融合实验室团队构建了一个由 5010 道几何选择题组成的问答数据集 GeoQA。GeoQA 数据集中的每一个样本具有题目描述、几何图像、问题选项、答案、问题类型、知识点、解答解析，以及按解题步骤标注的形式程序。在题目规模上，该数据集是前人工作常用的 GeoS 数据集的 25 倍。

### UniGeo

[UniGeo 2022.12 (arXiv.pdf)](https://arxiv.org/pdf/2212.02746.pdf)，2022，EMNLP

Abstract：……
在现有的工作中，两个主要的几何问题是：计算和证明，这两个任务通常被看作两个特殊的任务，阻止了深度模型来统一它在多种数学任务上的推理能力。然而，实际上，这两个数学任务是有相似的数学表达以及重叠的数学知识，这些都可以改善一个深度模型在这两个任务上的理解和推理能力。

所以，作者建立了一个大规模的统一数学问题测试基准，Unified Geometry problem benchmark，就是UniGeo，其中包括了4998计算问题以及9543个证明问题。每个证明问题都一个多步骤的带有推理和数学表达的证明。这个证明过程可以非常容易地重新表达，因为标注的证明序列与计算问题有一样的格式。

自然而然地，作者也提出了一个统一的多任务几何Transformer框架，叫Geoformer，为了在序列生成的形式下，同时解决计算和证明问题。结果最终显示了，通过统一的表达形式，可以改善模型的推理能力。

更进一步地，作者也提出了一个数学表达预训练(MEP)的方法，为的是在问题求解上预测数学表达，从而改善Geoformer的模型能力。在UniGeo上的实验展示了作者提出的Geoformer能够获得目前最好的性能，可以超越专项任务模型NGS，在计算和证明任务上分别由5.6%和3.2%的提升。

## 符号主义

而从符号主义学派的角度，学者们提出的方法，先将几何问题中的图像和文本信息，解析成一个形式化的符号语言中的逻辑表达式，然后再使用一些预先定义的几何定理，来求解几何问题。符号主义学派这个大类中所涉及方法的优势，就是数学体系上的严密性，因为这种方法为了逻辑解释和定理应用，而建立一个相对完备的符号系统。

### GEOS

[Solving Geometry Problems: Combining Text and Diagram Interpretation (aclanthology.org)](https://aclanthology.org/D15-1171.pdf)，2015，EMNLP

Abstract：这篇论文介绍了GEOS，这是第一个可以通过结合文本理解和图像解析，解决不经过简化的SAT等级几何问题的自动求解系统。作者将理解几何问题建模成子模型优化，并且他们认为问题的形式化描述有很大概率与问题文本和图像是兼容的。

GEOS将问题描述输入一个几何问题求解器，并且期望达到正确答案。在他们的实验中，GEOS在官方SAT问题上达到了49%的分数，并且在练习问题上达到了61%的分数。

最后，作者们展现了结合文本和视觉的信息，GEOS在加强了对于问题文本的语义理解的准确度。

Introduction：
……
之前的工作没有完全解决表示一个几何问题或者回答他们，而解决一个几何问题需要一种能够同时解释问题文本和图像的方法。
……
GEOS首次设计并实现了一个端到端系统，能够解决SAT难度级别的平面几何问题；同时，他们也将问题形式化成了可解释的几何问题，并且将其看做一个子模块优化的问题；最后，作者提供了在几何题型上的第一个以经验为依据的结果，并且为了未来的工作开源了数据和软件。

### Inter-GPS

[ACL 2021_Inter-GPS.pdf (lupantech.github.io)](https://lupantech.github.io/papers/acl21_intergps.pdf)，2021，ACL

Abstract：最近，几何问题求解在NLP领域内引起了很多关注。由于该任务需要问题的抽象理解以及利用公里数只是进行符号推理，所以它的难度不言而喻。然而，近几年的数据集要么在规模上比较小，或者不是公开可用的。

因此，作者们建立了一个新的大型基准测试集，Geometry3K，包含3002道带有用形式化语言密集标注的几何问题。同时，作者们也进一步提出了一种运用形式化语言和符号推理，进行几何问题求解的方法，他们称其为可解释的几何问题求解器，简称Inter-GPS。Inter-GPS首次将问题文本和图片，分别通过基于规则的文本解析器和神经网络目标检测，自动地解析成形式化语言。

不同于现有方法中隐式的学习，Inter-GPS将定理知识融合成为条件规则，并且逐步地进行符号推理。同时，作者也设计了一个定理预测器，来为符号求解器推测定理应用序列，使其有更高效的、更有理可据的搜索路径。

在Geometry3K以及GEOS数据集上的更多实验展现了Inter-GPS能够超越现存的其他方法的表现。


## 综合方法

当然，这两大类的方法都各自有一些局限性。比如，符号学派的方法在选择那些正确的定理上遇到了非常大的阻力。例如，启发式搜索的策略都倾向于囊括冗余的步骤，这会严重影响题解的可读性。然后，从连接主义学派的角度来说，这类方法非常依赖于人类标注的数据，众所周知，这种方法通常是非常稀缺且昂贵的。

更进一步来说，由深度神经网络生成的解答，在数学的严密性和正确性上是不可靠的。即便是最先进的语言模型例如GPT-4也很可能在解题过程中出现计算错误，这种情况在几何问题求解中是不可接受的。

所以，现在也有越来越多的方法开始涌现，想要同时结合前两大类方法中的优势，以突破之前方法的局限性。

### CL-based model

[CL-based Model](https://file.techscience.com/files/CMES/2023/TSP_CMES-136-2/TSP_CMES_23243/TSP_CMES_23243.pdf)，2023，CMES

这篇论文提出了一个端到端的深度学习方法，通过特征学习以及多模态数据的对比学习，来解决几何问题。在使用深度学习方法解决几何问题中的一个关键挑战在于，自动地适应于理解多模态以及单模态问题的任务。现存的方法要么只关注于单模态问题，要么只关注于多模态问题，而且他们并不能很好地相互适配。

一个通用的几何问题求解器，应该很明显地同时能够处理多模态的问题。在这篇论文中，一个能够处理多模态数据的共享特征学习的模型，被用于学习文本和图片的统一的特征表示，这个模型能够在多模态的几何问题中解决异构的问题。

一个能够处理多模态数据的对比学习模型，能够增强多模态特征之间的语义相关性，并且能够将它们映射到一个统一的语义空间中，这种模型能够有效地适应于单模态和多模态的下游任务中。基于特征抽取和多模态数据的融合，一个文章中提出的几何问题求解器使用关系抽取、定理推理、以及问题求解以可读的方式提供解答。实验结果展现了方法的有效性。

### GeoDRL

[GeoDRL (ACL anthology.org)](https://aclanthology.org/2023.findings-acl.850.pdf)，2023，ACL

Abstract：在自动的几何推理证明上，同时保证正确性和可解释性是一个非常大的挑战，而且标注数据的稀缺，阻碍了从样本中学习数学推理的能力。因此，作者提出了GeoDRL，一个自学习的几何问题求解框架，其中整合了逻辑图推理以及深度强化学习，为了将几何推理过程优化成一个马尔可夫决策过程。GeoDRL在一个几何逻辑图上部署了一个图神经网络，利用符号系统来更新问题的状态信息。并且，作者将DRL融合进了演绎推理，使得GeoDRL能够达到在保持正确性的情况下，进行无监督的自学习。GeoDRL，通过无监督学习，在Geometry3K上达到了更好的准确率，在之前的SOTA方法提升了11.1%，同时提升了效率和可解释性。

### SCA

[A Symbolic Character-Aware Model for Solving Geometry Problems (arxiv.org)](https://arxiv.org/pdf/2308.02823.pdf)，2023.10，ACM MM

Abstract：AI在求解数学问题上已经取得了非常大的进步，但是由于几何问题同时依赖于文本和图像，这个问题仍然具有挑战性。在文本描述上，符号字符通常充当着连接相关图像的桥梁。然而，单单把符号字符分词成单一的字母，现有的工作不能明显地学习到它们，而因此会丢失与图像相关的语义信息。

在这篇论文中，作者们开发了符号化字符可感知模型，来充分地探索这些字符在文本和图像中对于模型理解的地位，并且在一个多模态的推理框架中优化模型。在文本编码器中，作者们提出了将单一的字符融合到一起，与那些来自相关图像的几何信息一起形成一个语义单元。对于图像编码器，作者们在多标签分类的框架中预训练了模型，框架将符号字符作为标签。

此外，作者通过在带有掩码的图像建模的辅助任务上，运用自监督的学习方法，增强了模型对于几何图像的理解能力。通过将作者提出的模型整合到一个通用的编码-解码结构中，来解决几何问题，作者也在两个基准测试数据集上展现了他们提出方法的优势，数据集包括GeoQA以及Geometry3K，以及其他扩展的实验。特别的，在GeoQA上，问题-解答成功率从60%提升到了64.1%，达到了一个新的SOTA准确度；在Geometry3K上，作者将问题的平均求解步数从6.9减少到了6.0，而且有略微提升的求解准确度。


# 方法对比/未来展望

> 可能存在的优势、主要是与其他方法对比

大概率选用Graph Transformers的变种，也就是GeoDRL中提到的方法图transformer的方法，[[Graphormer]]。


# GeoDRL

[GeoDRL 2023.findings-acl.pdf (aclanthology.org)](https://aclanthology.org/2023.findings-acl.850.pdf)

## 背景介绍

几何问题求解这个问题就是，我们给出一个几何问题的描述，这个描述通常包含了一张几何图像和文本，求解的目标就是去生成一连串的解题步骤，最终能够推导到答案。解决一个几何问题包括两个关键步骤：解析和推理，解析就包含从问题的图像和文本描述中提取解释，而推理呢，就是用这些解释信息来推理出题目的解答。

## 相关工作

早期的工作关注于几何定理证明，多个学者通过逻辑推理的方式，证明出一个几何问题的解。这些早期学者的尝试，利用了符号计算系统，来进行逻辑推导以及符号操作。近期来说，对于求解几何问题的系统，例如GEOS和Inter-GPS，已经有了很多的发展。这些系统将几何图像和文本看作是输入，并且提供一个问题的解答，这些解答中包含了处理多模态的信息，利用预先定义的定理知识，进行数值的推理。

在近些年，在大规模的语料库上训练语言模型，并学习数学推理已经变成了一个趋势。在几何领域的例子比如GeoQA和UniGeo，将几何问题求解看作是文本生成的一个特例，并且利用语言模型来生成解答。尽管这种方式是高度可泛化的，但是它也有着缺乏数学严密性的风险。

深度强化学习是一个目的在于学习长范围策略，在一个优化问题中最大化奖励信号的机器学习方法。在近些年，众多的研究将深度强化学习应用于解决数学问题上，包括数学单词问题，数学表达计算，数学定理证明、符号推理等等。但是很少有人做出探索，是将几何问题求解看作是一个强化学习的任务。

那么在GeoDRL这篇文章中，作者将几何推理在一个逻辑图谱上，建模成马尔可夫决策过程，并且使用Deep Q-Network来选择适合于演绎推理的正确定理。


# Formal Geo

[FormalGeo](https://arxiv.org/pdf/2310.18021)，arXiv上已经更新到了版本V3

## 背景介绍

……

人工智能的发展对计算机辅助的数学问题求解引入了全新的范式，AI-辅助的数学问题求解是一个快速发展的领域，这个领域致力于将深度学习技术应用在数学问题中。AI系统可以在形式化数学系统中充当各种各样的角色，他们可以充当数学问题的求解器(...)、自动生成问题解答(...)、帮助人类将数学问题转化为形式化的描述。更进一步的，它们甚至可以充当数学问题的出题者(...)来提出数学上的猜想。

一个稳定的数学形式化系统，是AI辅助数学问题求解中，一个不可或缺的重要组成部分。一方面，对于数学问题描述和数据集的一个统一的格式，可以帮助避免其他因素的干扰，并且可以充当一个评估AI模型能力的标准。另一方面，由AI模型生成的解答必须为了可靠性而被验证，但是人工的检验通常是低效且容易出错的。这就要求计算机必须能够自动地检验答案。

斯坦福2021 AI100报告提出了IMO大挑战，作为一个在AI发展中的标志性事件，该挑战致力于创造一个能够接受形式化的问题描述，并且能够生成形式化的，机器可验证的解答的AI系统。同时，这个系统能够在IMO中取得金牌。AIMO奖项也被设立，为了促进那些能够赢得IMO金牌的AI模型的发展。充当两个相当关键的研究领域——AI和数学之间的桥梁，形式化数学已经在研究者中获得了不断增加的关注。

……

## 相关工作

自动几何问题求解领域，最早可以追溯到1959年发表的文章，Gelernter等学者开创性地建立了自动几何问题求解体系，可以简称为几何定理证明器，这个体系运用了后向搜索来解决预先形式化的问题。那么后续学者也指出了后向搜索链的方法，也可以非常有效地代表问题的已知信息并且限制那些已知情况的应用。那么几何问题求解的发展也引出了各种各样的下游任务的发展，比如几何问题形式化、几何知识抽取、几何图形解析、几何定理证明、以及几何问题求解等等。

在这之后，我国的吴文俊院士提出了“吴法”，这种方法开创性地将几何问题转化为一个包含多项式和不等式的代数方程系统。同时，这个系统利用了多种代数的方法来求解方程，从而解决几何问题。往后对于几何问题的代数求解方法的研究也就引出了一系列的研究，比如基方法、数值并行方法、多项式系统三角定位消除算法、解决不等式的柱面代数分解方法、降维方法、以及软件的方法。

随后，由张景中院士提出的基于几何变量的消点法，这种方法使用了构图法来描述问题，并且能够对于大量的比较有难度的几何问题生成准确的、有意义的、并且可读的证明。后来，基于几何变量的几何问题的机器证明方法研究，迅速地开始发展，引发了实际软件工具的应用，比如Geo Explorer、Geo Expert以及Java Geo Expert。那么，基于几何变量的方法也能够被推广到立体几何以及非欧几何中。

几何定理的机器证明方法能够被广义地分类为三种之前提到过的方法：基于搜索的综合方法，代数方法，以及基于几何变量的消点法：

- 基于搜索的综合方法可以提供传统风格的证明，但由于有限的计算资源以及这些方法中固有的组合爆炸问题，这种方法只能提供精挑细选的二维几何定理的一个很小的子集。
- 而代数的方法呢，可以解决一系列的问题类型，但是求解的过程一般会带有代数的表达，这种表达是难以被人工验证，而且难以从中得到可读的证明序列。
- 基于几何变量的方法能够提供可读的证明序列，但是这种可以被解决的会被可用的几何变量所限制。

几何问题求解最近也在自然语言处理(NLP)领域受到了广泛的关注，几个几何形式化的系统以及数据集被构建，例如Geo3K、GeoQA、GeometryQA。Geo3K将几何问题的已知情况转化为形式化的声明，并且其将定理定义为一组为了在形式化声明之间转化的一组规则。这种方法，涉及到了形式化语言，同样也应用在了GeoRE，这种方法聚焦在几何关系的抽取。同时，PGDP5K，是被设计为几何图像的解析。

尽管这些方法是符合直觉的，他们却都缺乏理论的指引，是不够全面的，而且也不能够用新增的谓词和定理来方便地扩展。GeoQA运用了程序的形式化方法，将几何问题求解过程转化为一系列的包含变量和操作的程序，那么执行这个程序序列也就产生了问题的解答。后续的工作拓展了问题和规则的数量和类型，产生了GeoQA+、UniGeo、以及PGPS9K等等工作。这些形式化方法能够表示代数和符号的问题求解过程，但是相比于形式化语言的方法，这种方法不够符合直觉而且不能够表示传统的几何问题求解过程。

此外，增加新的规则也就需要调整求解器的代码，这也就让它们更加难以扩展。GeometryQA运用了一种名为表达树的形式化方法，这种方法将问题求解过程转化为一个包含操作算子和变量的求解树。这种方法类似于程序化的方法，但是更有结构。

~~共享的基准以及数据集显著地提升了AI辅助的几何问题求解的研究，几种AI系统，例如基于CL的模型，SCA，GeoDRL，被构建能够在问题求解中获得更高的准确率。正如问题求解的成功率持续地提升，人们对于更高质量和更大难度的数据集的需求也逐渐加大。~~

~~之前的工作关注于AI系统的研究，但是忽略了几何形式化理论的研究。在现有的系统中扩展数据集需要对求解器代码的大量修改，这也就造成扩展形式化系统和数据集更加具有挑战性。~~


# 老师建议

- 最好可以用一张表来总结
- 要有跟问题背景相关的部分，但是背景介绍不要太多
- 注意标明文献发表的会议或期刊（顶刊顶会）
- 每一个方法的分类都要有文章，在时间、内容上层层递进
- 汇报的选题不要太大
- 注意关注领域内的转折性/开创性工作
- 对于某一个大类的方法要进行概括，总结其优点/缺点
- 最后需要有一个自己的总结，完整

# 术语表

> 在《几何定理机器证明三十年》中提到的一些特定名词的翻译

- [ ] Geometry Theorem Prover：几何定理求解器
- [ ] numerical parallel methods：数值并行法 一种代数方法
- [ ] polynomial system triangulation elimination algorithm：多项式系统三角化消元方法
- [ ] cylindrical algebraic decomposition：柱面代数分解方法
- [ ] Geometric Invariants：几何不变量 吴法的由来
- [ ] search-based synthesis methods：基于搜索的综合方法
- [ ] additional predicates and theorems：附加的谓词和定理
- [ ] Formal method of Program：基于程序序列的形式化方法 将几何证明过程转化为程序序列
- [ ] operators：运算符 或者其他自定义的符号运算等等
- [ ] the Expression Tree：表达式树
